{"ast":null,"code":"import _objectSpread from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/components/shifts/NewShiftForm.jsx\";\n\nimport { React, useEffect, useState, useContext } from \"react\";\nimport { Button, CircularProgress, Slider, Stack, TextField, Typography } from \"@mui/material\";\nimport { SliderScales } from \"../../components/const\";\nimport { SelectMember } from \"../chats/SelectMember\";\nimport { fetchAssignMember } from \"../../apis/shifts\";\nimport { getMonAndDate } from \"../../lib/calcDate\";\nimport { ConfigContext } from \"../../contexts/config\";\nvar initialState = {\n  id: \"\",\n  name: \"従業員が選択されてません。\",\n  attendance_time: 9,\n  leaving_time: 19,\n  comment: \"\",\n  confirmed: true,\n  rest: false\n};\nvar style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  width: 500,\n  maxWidth: \"95%\",\n  backgroundColor: 'white',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 2\n};\nexport var NewShiftForm = function NewShiftForm(_ref) {\n  var sendShiftParams = _ref.sendShiftParams,\n      date = _ref.date,\n      loading = _ref.loading;\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      params = _useState2[0],\n      setParams = _useState2[1];\n\n  var handleChange = function handleChange(e, newValue) {\n    setParams(_objectSpread({}, params, {\n      attendance_time: newValue[0],\n      leaving_time: newValue[1]\n    }));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    setParams(_objectSpread({}, params, {\n      date: date\n    }));\n    e.preventDefault();\n    sendShiftParams(params);\n  };\n\n  var orgConfig = useContext(ConfigContext);\n  useEffect(function () {\n    return setParams(_objectSpread({}, params, {\n      date: date\n    }));\n  }, [date]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    style: {\n      width: \"90%\",\n      margin: \"auto\"\n    },\n    spacing: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SelectMember, {\n    style: style,\n    params: params,\n    setParams: setParams,\n    fetch: function fetch() {\n      return fetchAssignMember(date);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, params.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 10\n    }\n  }, getMonAndDate(date, \"/\")), /*#__PURE__*/React.createElement(Slider, {\n    value: [params.attendance_time, params.leaving_time],\n    onChange: handleChange,\n    marks: SliderScales,\n    valueLabelDisplay: \"auto\",\n    min: orgConfig.params.open,\n    max: orgConfig.params.close,\n    step: 0.5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    margin: \"normal\",\n    fullWidth: true,\n    defaultValue: \"\\u5099\\u8003\",\n    multiline: true,\n    rows: 3,\n    onChange: function onChange(e) {\n      return setParams(_objectSpread({}, params, {\n        comment: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    disabled: params.id === \"\",\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"success\",\n    endIcon: loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n      style: {\n        width: \"1.2rem\",\n        height: \"1.2rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }) : \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"\\u30B7\\u30D5\\u30C8\\u3092\\u4F5C\\u6210\\u3059\\u308B\")));\n};","map":{"version":3,"names":["React","useEffect","useState","useContext","Button","CircularProgress","Slider","Stack","TextField","Typography","SliderScales","SelectMember","fetchAssignMember","getMonAndDate","ConfigContext","initialState","id","name","attendance_time","leaving_time","comment","confirmed","rest","style","position","top","left","transform","width","maxWidth","backgroundColor","border","boxShadow","p","NewShiftForm","sendShiftParams","date","loading","params","setParams","handleChange","e","newValue","handleSubmit","preventDefault","orgConfig","margin","open","close","target","value","height"],"sources":["/usr/src/app/app/src/components/shifts/NewShiftForm.jsx"],"sourcesContent":["import {React,useEffect, useState, useContext} from \"react\";\r\nimport { Button, CircularProgress, Slider, Stack, TextField, Typography } from \"@mui/material\";\r\n\r\nimport { SliderScales } from \"../../components/const\";\r\nimport { SelectMember } from \"../chats/SelectMember\";\r\nimport { fetchAssignMember } from \"../../apis/shifts\";\r\nimport { getMonAndDate } from \"../../lib/calcDate\";\r\n\r\nimport { ConfigContext } from \"../../contexts/config\";\r\n\r\nconst initialState = {\r\n    id:\"\",\r\n    name:\"従業員が選択されてません。\",\r\n    attendance_time: 9,\r\n    leaving_time: 19,\r\n    comment: \"\",\r\n    confirmed: true,\r\n    rest: false\r\n\r\n}\r\n\r\n\r\n    \r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 500,\r\n    maxWidth: \"95%\",\r\n    backgroundColor: 'white',\r\n    border: '2px solid #000',\r\n    boxShadow: 24,\r\n    p: 2,\r\n  };\r\n  \r\n  \r\nexport const NewShiftForm = ({\r\n    sendShiftParams,\r\n    date,\r\n    loading\r\n\r\n}) => {\r\n\r\n    const [params, setParams] = useState(initialState);\r\n\r\n    const handleChange = (e, newValue) => {\r\n        setParams({...params,\r\n            attendance_time: newValue[0],\r\n            leaving_time: newValue[1]})\r\n    }\r\n\r\n   const  handleSubmit = (e) => {\r\n        setParams({...params, date: date})\r\n        e.preventDefault()\r\n        sendShiftParams(params)\r\n    }\r\n\r\n    const orgConfig = useContext(ConfigContext);\r\n     \r\n    useEffect(() => setParams({...params, date: date}),[date])\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n        <Stack style={{width:\"90%\", margin:\"auto\"}} spacing={2}>\r\n            <label>\r\n            <SelectMember\r\n            style={style}\r\n            params={params}\r\n            setParams={setParams}\r\n            fetch={()=>fetchAssignMember(date)}\r\n        />\r\n\r\n            </label>\r\n          <Typography variant=\"h6\">\r\n            {params.name}\r\n        </Typography>\r\n         <Typography variant=\"h6\">\r\n            {getMonAndDate(date,\"/\")}\r\n        </Typography>\r\n\r\n        <Slider\r\n            value={[params.attendance_time, params.leaving_time]}\r\n            onChange={handleChange}\r\n            marks={SliderScales}\r\n            valueLabelDisplay=\"auto\"\r\n            min={orgConfig.params.open}\r\n            max={orgConfig.params.close}\r\n            step={0.5}\r\n        />\r\n\r\n        <TextField  \r\n            margin=\"normal\"\r\n            fullWidth\r\n            defaultValue=\"備考\"\r\n            multiline\r\n            rows={3}\r\n            onChange={(e)=>setParams({...params,comment: e.target.value})}\r\n        />\r\n\r\n        <Button\r\n            fullWidth\r\n            disabled={params.id ===\"\"}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"success\"\r\n            endIcon={loading? \r\n                <CircularProgress style={{width:\"1.2rem\", height: \"1.2rem\"}}/> :\r\n                 \"\"}\r\n        >\r\n            シフトを作成する\r\n        </Button>\r\n       \r\n\r\n        </Stack>\r\n\r\n\r\n        </form>\r\n       \r\n    )\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}