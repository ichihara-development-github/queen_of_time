{"ast":null,"code":"import _toConsumableArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar calcAssignCount = function calcAssignCount(shifts, time) {\n  var count = {\n    early: 0,\n    mid: 0,\n    late: 0\n  };\n\n  if (!shifts) {\n    return count;\n  }\n\n  shifts.forEach(function (elm) {\n    if (!!elm.rest) {\n      return;\n    }\n\n    var st = Math.ceil(elm.attendance_time);\n    var en = Math.ceil(elm.leaving_time);\n\n    var shift = _toConsumableArray(Array(en - st)).map(function (_, i) {\n      return i + st;\n    });\n\n    count = {\n      early: count.early + Number(shift.some(function (el) {\n        return time.early_time.includes(el);\n      })),\n      mid: count.mid + Number(shift.some(function (el) {\n        return time.mid_time.includes(el);\n      })),\n      late: count.late + Number(shift.some(function (el) {\n        return time.late_time.includes(el);\n      }))\n    };\n  });\n  return count;\n};\n\nvar countToEvent = function countToEvent(shifts) {\n  var events = Object.keys(shifts).map(function (key) {\n    var count = calcAssignCount(shifts[key], time);\n    return {\n      title: \"\\u2600\\uFE0E\".concat(count.early, \" \\u3000\\u2600\\uFE0E\").concat(count.mid, \" \\u3000\\u263E\").concat(count.late),\n      start: key,\n      color: \"gray\"\n    };\n  });\n  return events;\n};\n\nexport { calcAssignCount, countToEvent };","map":{"version":3,"names":["calcAssignCount","shifts","time","count","early","mid","late","forEach","elm","rest","st","Math","ceil","attendance_time","en","leaving_time","shift","Array","map","_","i","Number","some","el","early_time","includes","mid_time","late_time","countToEvent","events","Object","keys","key","title","start","color"],"sources":["/usr/src/app/app/src/lib/calc.js"],"sourcesContent":["\r\nconst calcAssignCount = (shifts, time) => {\r\n\r\n  let count = {early:0, mid: 0, late:0};\r\n   \r\n    \r\n  if(!shifts){return count}\r\n  \r\n  shifts.forEach(elm => {\r\n    if(!!elm.rest){return}\r\n    const st = Math.ceil(elm.attendance_time)\r\n    const en = Math.ceil(elm.leaving_time)\r\n    const shift = [...Array(en-st)].map((_, i) => i+st)\r\n\r\n    count = {\r\n    early: count.early + Number(shift.some(el => time.early_time.includes(el))),\r\n    mid: count.mid + Number(shift.some(el => time.mid_time.includes(el))),\r\n    late: count.late + Number(shift.some(el => time.late_time.includes(el)))\r\n    }\r\n  })\r\n\r\n  return count;\r\n}\r\n\r\n\r\nconst countToEvent = (shifts) => {\r\n  \r\n\r\n  const events = Object.keys(shifts).map(\r\n    function(key){\r\n      const count = calcAssignCount(shifts[key], time);\r\n\r\n      return {\r\n        title:`☀︎${count.early} 　☀︎${count.mid} 　☾${count.late}`,\r\n        start: key,\r\n        color: \"gray\"\r\n      }\r\n        })\r\n\r\n  return events;\r\n}\r\n\r\n\r\nexport {calcAssignCount, countToEvent};"],"mappings":";;AACA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,MAAD,EAASC,IAAT,EAAkB;EAExC,IAAIC,KAAK,GAAG;IAACC,KAAK,EAAC,CAAP;IAAUC,GAAG,EAAE,CAAf;IAAkBC,IAAI,EAAC;EAAvB,CAAZ;;EAGA,IAAG,CAACL,MAAJ,EAAW;IAAC,OAAOE,KAAP;EAAa;;EAEzBF,MAAM,CAACM,OAAP,CAAe,UAAAC,GAAG,EAAI;IACpB,IAAG,CAAC,CAACA,GAAG,CAACC,IAAT,EAAc;MAAC;IAAO;;IACtB,IAAMC,EAAE,GAAGC,IAAI,CAACC,IAAL,CAAUJ,GAAG,CAACK,eAAd,CAAX;IACA,IAAMC,EAAE,GAAGH,IAAI,CAACC,IAAL,CAAUJ,GAAG,CAACO,YAAd,CAAX;;IACA,IAAMC,KAAK,GAAG,mBAAIC,KAAK,CAACH,EAAE,GAACJ,EAAJ,CAAT,EAAkBQ,GAAlB,CAAsB,UAACC,CAAD,EAAIC,CAAJ;MAAA,OAAUA,CAAC,GAACV,EAAZ;IAAA,CAAtB,CAAd;;IAEAP,KAAK,GAAG;MACRC,KAAK,EAAED,KAAK,CAACC,KAAN,GAAciB,MAAM,CAACL,KAAK,CAACM,IAAN,CAAW,UAAAC,EAAE;QAAA,OAAIrB,IAAI,CAACsB,UAAL,CAAgBC,QAAhB,CAAyBF,EAAzB,CAAJ;MAAA,CAAb,CAAD,CADnB;MAERlB,GAAG,EAAEF,KAAK,CAACE,GAAN,GAAYgB,MAAM,CAACL,KAAK,CAACM,IAAN,CAAW,UAAAC,EAAE;QAAA,OAAIrB,IAAI,CAACwB,QAAL,CAAcD,QAAd,CAAuBF,EAAvB,CAAJ;MAAA,CAAb,CAAD,CAFf;MAGRjB,IAAI,EAAEH,KAAK,CAACG,IAAN,GAAae,MAAM,CAACL,KAAK,CAACM,IAAN,CAAW,UAAAC,EAAE;QAAA,OAAIrB,IAAI,CAACyB,SAAL,CAAeF,QAAf,CAAwBF,EAAxB,CAAJ;MAAA,CAAb,CAAD;IAHjB,CAAR;EAKD,CAXD;EAaA,OAAOpB,KAAP;AACD,CArBD;;AAwBA,IAAMyB,YAAY,GAAG,SAAfA,YAAe,CAAC3B,MAAD,EAAY;EAG/B,IAAM4B,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAY9B,MAAZ,EAAoBiB,GAApB,CACb,UAASc,GAAT,EAAa;IACX,IAAM7B,KAAK,GAAGH,eAAe,CAACC,MAAM,CAAC+B,GAAD,CAAP,EAAc9B,IAAd,CAA7B;IAEA,OAAO;MACL+B,KAAK,wBAAM9B,KAAK,CAACC,KAAZ,gCAAwBD,KAAK,CAACE,GAA9B,0BAAuCF,KAAK,CAACG,IAA7C,CADA;MAEL4B,KAAK,EAAEF,GAFF;MAGLG,KAAK,EAAE;IAHF,CAAP;EAKG,CATQ,CAAf;EAWA,OAAON,MAAP;AACD,CAfD;;AAkBA,SAAQ7B,eAAR,EAAyB4B,YAAzB"},"metadata":{},"sourceType":"module"}