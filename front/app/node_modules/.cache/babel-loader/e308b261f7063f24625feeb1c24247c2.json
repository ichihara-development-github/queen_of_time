{"ast":null,"code":"import _slicedToArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/components/shifts/SubmitFeed.jsx\";\n\nimport { Checkbox, FormControl, IconButton, InputLabel, MenuItem, Select, Stack, TextField } from \"@mui/material\";\nimport React, { useMemo, useState } from \"react\";\nimport NotInterestedOutlinedIcon from '@mui/icons-material/NotInterestedOutlined';\nimport InsertCommentOutlinedIcon from '@mui/icons-material/InsertCommentOutlined';\nimport { getMonAndDate } from \"../../lib/calcDate\";\nimport { DefaultModal } from \"../shared/DefaultModal\";\nimport { elementMatches } from \"@fullcalendar/react\";\nexport var SubmitFeed = function SubmitFeed(_ref) {\n  var elm = _ref.elm,\n      times = _ref.times,\n      list = _ref.list,\n      setList = _ref.setList;\n  console.log(elm);\n  var copy = list.slice();\n  var thisDate = list.find(function (l) {\n    return l.date == elm.date;\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isClick = _useState2[0],\n      setIsClick = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      comment = _useState6[0],\n      setComment = _useState6[1];\n\n  var handleChange = function handleChange(e) {\n    var name = e.target.name;\n    var value = e.target.value;\n    var copy = list.slice();\n    thisDate[name] = value;\n    setList(copy);\n  };\n\n  var handleRest = function handleRest(e) {\n    thisDate.rest = e.target.checked;\n    setList(copy);\n  };\n\n  var SelectTimes = function SelectTimes() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormControl, {\n      sx: {\n        minWidth: 80\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, \"\\u51FA\"), /*#__PURE__*/React.createElement(Select, {\n      required: true,\n      disabled: thisDate.rest,\n      name: \"attendance_time\",\n      label: \"\\u51FA\\u52E4\",\n      value: thisDate.attendance_time,\n      onChange: function onChange(e) {\n        return handleChange(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, times.map(function (time, index) {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: index,\n        value: time,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, time);\n    }))), /*#__PURE__*/React.createElement(FormControl, {\n      sx: {\n        minWidth: 80\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      id: \"demo-select-small\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, \"\\u9000\"), /*#__PURE__*/React.createElement(Select, {\n      disabled: thisDate.rest,\n      value: thisDate.leaving_time,\n      name: \"leaving_time\",\n      label: \"\\u9000\\u52E4\",\n      onChange: function onChange(e) {\n        return handleChange(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, times.map(function (time, index) {\n      return /*#__PURE__*/React.createElement(MenuItem, {\n        key: index,\n        value: time,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, time);\n    }))));\n  };\n\n  var content = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    name: \"comment\",\n    multiline: true,\n    rows: 3,\n    value: comment,\n    defaultValue: \"\\u5099\\u8003\",\n    onChange: function onChange(e) {\n      return setComment(e.target.value);\n    },\n    onBlur: function onBlur() {\n      thisDate.comment = comment;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }));\n  return useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, getMonAndDate(new Date(thisDate.date), \"/\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: \"auto\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Stack, {\n      direction: \"row\",\n      spacing: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, isClick ? /*#__PURE__*/React.createElement(SelectTimes, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(Checkbox, {\n      label: \"\\u51FA\\u52E4\",\n      icon: /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u51FA\\u52E4\"),\n      onChange: function onChange() {\n        return setIsClick(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Checkbox, {\n      label: \"\\u4F11\",\n      name: \"rest\",\n      icon: /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u4F11 \", /*#__PURE__*/React.createElement(NotInterestedOutlinedIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 23\n        }\n      })),\n      checkedIcon: /*#__PURE__*/React.createElement(NotInterestedOutlinedIcon, {\n        style: {\n          display: \"block\",\n          height: \"2rem\",\n          width: \"2rem\"\n        },\n        color: \"error\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 26\n        }\n      }),\n      onChange: function onChange(e) {\n        handleRest(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: function onClick() {\n        return setOpen(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(InsertCommentOutlinedIcon, {\n      color: thisDate.comment && \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 18\n      }\n    }))), /*#__PURE__*/React.createElement(DefaultModal, {\n      open: open,\n      setOpen: setOpen,\n      content: content,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    })));\n  }, [thisDate]);\n};","map":{"version":3,"names":["Checkbox","FormControl","IconButton","InputLabel","MenuItem","Select","Stack","TextField","React","useMemo","useState","NotInterestedOutlinedIcon","InsertCommentOutlinedIcon","getMonAndDate","DefaultModal","elementMatches","SubmitFeed","elm","times","list","setList","console","log","copy","slice","thisDate","find","l","date","isClick","setIsClick","open","setOpen","comment","setComment","handleChange","e","name","target","value","handleRest","rest","checked","SelectTimes","minWidth","attendance_time","map","time","index","leaving_time","content","Date","marginLeft","display","height","width"],"sources":["/usr/src/app/app/src/components/shifts/SubmitFeed.jsx"],"sourcesContent":["import { Checkbox, FormControl, IconButton, InputLabel, MenuItem, Select, Stack, TextField } from \"@mui/material\";\r\nimport React,{ useMemo, useState} from \"react\";\r\nimport NotInterestedOutlinedIcon from '@mui/icons-material/NotInterestedOutlined';\r\nimport InsertCommentOutlinedIcon from '@mui/icons-material/InsertCommentOutlined';\r\nimport { getMonAndDate } from \"../../lib/calcDate\";\r\nimport { DefaultModal } from \"../shared/DefaultModal\";\r\nimport { elementMatches } from \"@fullcalendar/react\";\r\n\r\nexport const SubmitFeed = ({\r\n    elm,\r\n    times, \r\n    list,\r\n    setList\r\n}) => {\r\n    console.log(elm)\r\n    \r\n    const copy = list.slice()\r\n    const thisDate = list.find(l=> l.date == elm.date)\r\n\r\n    const [isClick, setIsClick] = useState(true);\r\n    const [open, setOpen] = useState(false);\r\n    const [comment, setComment] = useState();\r\n        \r\n    \r\n    const handleChange = (e) => {\r\n       \r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        const copy = list.slice()\r\n        thisDate[name] = value\r\n        setList(copy)\r\n    }\r\n\r\n    const handleRest = (e) => {\r\n        thisDate.rest = e.target.checked\r\n        setList(copy)\r\n\r\n    }\r\n\r\n    const SelectTimes = ()=>(\r\n        <>\r\n         <FormControl sx={{ minWidth: 80 }}>\r\n        <InputLabel >出</InputLabel>\r\n        <Select\r\n            required\r\n            disabled={thisDate.rest}\r\n            name=\"attendance_time\"\r\n            label=\"出勤\"\r\n            value={thisDate.attendance_time}\r\n            onChange={(e)=> handleChange(e)}\r\n          \r\n        >\r\n            {  \r\n                times.map((time,index) => (\r\n                    <MenuItem key={index} value={time}>{time}\r\n                    </MenuItem>\r\n                ))  \r\n            } \r\n        </Select>\r\n        </FormControl>\r\n\r\n        <FormControl sx={{ minWidth: 80 }}>\r\n        <InputLabel id=\"demo-select-small\">退</InputLabel>\r\n        <Select\r\n            disabled={thisDate.rest}\r\n            value={thisDate.leaving_time}\r\n            name=\"leaving_time\"\r\n            label=\"退勤\"\r\n            onChange={(e)=>handleChange(e)}\r\n           \r\n        >\r\n            {  \r\n                times.map((time,index) => (\r\n                    <MenuItem key={index} value={time}>{time}\r\n                    </MenuItem>\r\n                ))  \r\n            } \r\n\r\n        </Select>\r\n\r\n        </FormControl>\r\n        </>\r\n    )\r\n\r\n    const content = (\r\n        <>\r\n        <TextField\r\n            fullWidth\r\n            name=\"comment\"\r\n            multiline\r\n            rows={3}\r\n            value={comment}\r\n            defaultValue=\"備考\"\r\n            onChange={(e)=>setComment(e.target.value)}\r\n            onBlur={()=>{thisDate.comment=comment}}\r\n        />\r\n        </>\r\n    )\r\n\r\nreturn useMemo(() => {\r\n    return (\r\n        <>\r\n         {getMonAndDate(new Date(thisDate.date),\"/\")}\r\n        <div style={{marginLeft:\"auto\"}}>  \r\n        <Stack direction=\"row\" spacing={1}>\r\n            {isClick?\r\n            <SelectTimes/>: \r\n            <Checkbox\r\n            label=\"出勤\" \r\n            icon={<>出勤</>}\r\n            onChange={()=>setIsClick(true)}\r\n            />\r\n            }\r\n        <Checkbox\r\n            label=\"休\" \r\n            name=\"rest\"\r\n            icon={<>休 <NotInterestedOutlinedIcon /></>}\r\n            checkedIcon={<NotInterestedOutlinedIcon  \r\n                style={{display:\"block\",height:\"2rem\",width: \"2rem\"}}\r\n                        color=\"error\"\r\n                    />}\r\n            onChange={(e)=> {handleRest(e)}}\r\n            />\r\n             <IconButton onClick={()=> setOpen(true)}>\r\n                 <InsertCommentOutlinedIcon color={thisDate.comment&&\"primary\"} />\r\n            </IconButton>\r\n        </Stack>    \r\n        <DefaultModal\r\n            open={open} \r\n            setOpen={setOpen} \r\n            content={content}\r\n        />\r\n       \r\n    </div>  \r\n\r\n        </>\r\n    \r\n\r\n    )\r\n\r\n},[thisDate])\r\n   \r\n} \r\n "],"mappings":"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"},"metadata":{},"sourceType":"module"}