{"ast":null,"code":"import _slicedToArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/components/shifts/NewSubmitShifts.jsx\";\n\nimport { Button, Chip, CircularProgress, Divider, List, ListItem, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { SubmitFeed } from \"../../components/shifts/SubmitFeed\";\nimport { sendShifts, submitShifts } from \"../../apis/shifts\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\nimport { getMonAndDate } from \"../../lib/calcDate\";\nimport { fetchNewShifts } from \"../../apis/shifts\";\nvar style = {\n  zIndex: 100,\n  backgroundColor: \"white\",\n  width: \"100%\",\n  height: \"100%\",\n  position: \"absolute\",\n  top: 0\n};\nvar chipStyle = {\n  position: 'fixed',\n  bottom: 30,\n  left: 20,\n  zIndex: 200\n};\nexport var NewSubmitShifts = function NewSubmitShifts(_ref) {\n  var times = _ref.times,\n      list = _ref.list,\n      setList = _ref.setList;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var handleClick = function handleClick() {\n    if (window.confirm(\"シフトを提出しますか？\")) {\n      setLoading(true);\n    }\n  };\n\n  var sendNewShifts = function sendNewShifts(e) {\n    e.preventDefault();\n    sendShifts(list).then(function (res) {\n      if (res.status === 201) {\n        setOpen(false);\n      }\n    });\n    setLoading(false);\n  };\n\n  var NewShifts = function NewShifts() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n      style: style,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 10\n      }\n    }, list.length > 0 ? /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: function onSubmit(e) {\n        return sendNewShifts(e);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      style: {\n        height: 450,\n        overflow: \"scroll\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    }, list.map(function (elm, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(ListItem, {\n        sx: {\n          height: 60\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(SubmitFeed, {\n        elm: elm,\n        times: times,\n        list: list,\n        setList: setList,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(Divider, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      }));\n    })), /*#__PURE__*/React.createElement(Button, {\n      fullWidth: true,\n      type: \"submit\",\n      color: \"success\",\n      variant: \"contained\",\n      margin: \"normal\",\n      endIcon: loading && /*#__PURE__*/React.createElement(CircularProgress, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 34\n        }\n      }),\n      onClick: function onClick() {\n        handleClick();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, \"\\u63D0\\u3000\\u51FA\")) : /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 8\n      }\n    }, \"\\u73FE\\u5728\\u63D0\\u51FA\\u53EF\\u80FD\\u306A\\u30B7\\u30D5\\u30C8\\u306F\\u3042\\u308A\\u307E\\u305B\\u3093\")), /*#__PURE__*/React.createElement(Chip, {\n      style: chipStyle,\n      onClick: function onClick() {\n        return setOpen(!open);\n      },\n      size: \"medium\",\n      label: \"\\u623B\\u308B\",\n      variant: \"outlied\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 8\n      }\n    }));\n  };\n\n  useEffect(function () {\n    fetchNewShifts().then(function (res) {\n      return setList(res.data.dates);\n    });\n    console.log(res.data);\n  }, []);\n  return useMemo(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, open ? /*#__PURE__*/React.createElement(NewShifts, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }) : /*#__PURE__*/React.createElement(Chip, {\n      sx: chipStyle,\n      onClick: function onClick() {\n        return setOpen(!open);\n      },\n      size: \"medium\",\n      label: \"\\u65B0\\u898F\\u63D0\\u51FA\",\n      color: \"secondary\",\n      variant: \"contained\",\n      icon: /*#__PURE__*/React.createElement(AddBoxOutlinedIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }));\n  }, [list, open]);\n};","map":{"version":3,"names":["Button","Chip","CircularProgress","Divider","List","ListItem","Typography","Box","SubmitFeed","sendShifts","submitShifts","React","useEffect","useMemo","useState","AddBoxOutlinedIcon","getMonAndDate","fetchNewShifts","style","zIndex","backgroundColor","width","height","position","top","chipStyle","bottom","left","NewSubmitShifts","times","list","setList","open","setOpen","loading","setLoading","handleClick","window","confirm","sendNewShifts","e","preventDefault","then","res","status","NewShifts","length","overflow","map","elm","index","data","dates","console","log"],"sources":["/usr/src/app/app/src/components/shifts/NewSubmitShifts.jsx"],"sourcesContent":["import { Button, Chip, CircularProgress, Divider, List, ListItem, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { SubmitFeed } from \"../../components/shifts/SubmitFeed\";\r\nimport { sendShifts, submitShifts } from \"../../apis/shifts\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\n\r\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\r\nimport { getMonAndDate } from \"../../lib/calcDate\";\r\nimport { fetchNewShifts } from \"../../apis/shifts\";\r\n\r\nconst style = {\r\n    zIndex:100, \r\n    backgroundColor:\"white\",\r\n    width:\"100%\", \r\n    height: \"100%\",\r\n    position:\"absolute\",\r\n    top:0\r\n\r\n}\r\n\r\nconst chipStyle = {\r\n    position: 'fixed',\r\n    bottom: 30,\r\n    left: 20,\r\n    zIndex:200 \r\n}\r\n\r\nexport const NewSubmitShifts = ({\r\n    times,\r\n    list,\r\n    setList\r\n}) => {\r\n \r\n    const [open, setOpen] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleClick = () => {\r\n        if(window.confirm(\"シフトを提出しますか？\")){\r\n            setLoading(true)\r\n        }\r\n    }\r\n\r\n    \r\n    const sendNewShifts = (e) => {\r\n        e.preventDefault();\r\n        sendShifts(list)\r\n        .then(res => {\r\n            if(res.status ===201){setOpen(false)}\r\n        }\r\n            )\r\n        setLoading(false)\r\n\r\n    }\r\n\r\n    const NewShifts = () => (\r\n         <>\r\n         <Box style={style}>\r\n         {list.length > 0 ?\r\n          <form  onSubmit={e=>sendNewShifts(e)}>  \r\n           <List style={{height:450,overflow:\"scroll\"}}>\r\n               {list.map((elm,index) => \r\n               <div key={index}>\r\n                  \r\n                   <ListItem sx={{height:60}}>\r\n                      <SubmitFeed\r\n                         elm={elm}\r\n                          times={times} \r\n                          list={list} \r\n                          setList={setList}\r\n                      />\r\n                  </ListItem>\r\n                  <Divider/> \r\n         \r\n       \r\n              </div>\r\n               )}\r\n           </List>\r\n            <Button\r\n              fullWidth\r\n              type=\"submit\" \r\n              color=\"success\" \r\n              variant=\"contained\" \r\n              margin=\"normal\"\r\n              endIcon={loading &&<CircularProgress/>}\r\n              onClick={()=> {handleClick()}}>\r\n                  提　出 \r\n            </Button>\r\n            </form>\r\n    \r\n       :\r\n       <Typography variant=\"h5\">\r\n           現在提出可能なシフトはありません\r\n       </Typography>\r\n        }\r\n\r\n       </Box>\r\n       <Chip\r\n           style={chipStyle}\r\n           onClick={()=>setOpen(!open)}\r\n           size=\"medium\"\r\n           label=\"戻る\"\r\n           variant=\"outlied\"\r\n            />  \r\n        </>\r\n    )\r\n\r\n   \r\n    useEffect(() => {\r\n\r\n        fetchNewShifts()\r\n        .then(res => setList(res.data.dates))\r\n        console.log(res.data)\r\n\r\n    },[])\r\n    \r\n    \r\n  return useMemo(()=> {\r\n\r\n  return (\r\n      <>\r\n      {\r\n          open?\r\n          <NewShifts/>\r\n          :\r\n          <Chip\r\n          sx={chipStyle}\r\n          onClick={()=>setOpen(!open)}\r\n          size=\"medium\"\r\n          label=\"新規提出\"\r\n          color=\"secondary\" \r\n          variant=\"contained\" \r\n          icon={<AddBoxOutlinedIcon/>}\r\n      />  \r\n      }\r\n      </>\r\n        \r\n        \r\n    \r\n        \r\n    )\r\n\r\n    \r\n  },[list,open])\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}