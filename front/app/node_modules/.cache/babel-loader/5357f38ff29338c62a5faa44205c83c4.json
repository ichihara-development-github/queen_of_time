{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/components/chats/ChatMessages.jsx\";\n\nimport { Box, Stack, Typography } from \"@mui/material\";\nimport React, { useState, useContext, useEffect, useMemo } from \"react\";\nimport { AuthContext } from \"../../contexts/auth\";\nimport ChatTemplate from \"./ChatTemplate\";\nvar height = document.documentElement.clientHeight;\nvar timeStyle = {\n  position: \"absolute\",\n  top: -20,\n  left: 0,\n  color: \"#808080\"\n};\nexport var ChatMessages = function ChatMessages(_ref) {\n  var messages = _ref.messages,\n      selected = _ref.selected,\n      cancelSend = _ref.cancelSend,\n      tempId = _ref.tempId;\n  var date = new Date().toString();\n  var currentDate = new Date(new Date(messages[0].created_at).getFullYear(), new Date(messages[0].created_at).getMonth() + 1, new Date(messages[0].created_at).getDate());\n  return /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      padding: \"150px 2rem 0\",\n      height: \"\".concat(height - 100, \"px\"),\n      width: \"100%\",\n      overflow: \"scroll\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, messages.map(function (message, index) {\n    var side = message.employee_id === tempId ? \"right\" : \"left\";\n    var baseTime = new Date(message.created_at);\n    var time = \"\".concat((\"00\" + baseTime.getHours()).slice(-2), \" :\").concat((\"00\" + baseTime.getMinutes()).slice(-2));\n\n    if (new Date(new Date(message.created_at).getFullYear(), new Date(message.created_at).getMonth(), new Date(message.created_at).getDate()) > currentDate) {\n      currentDate = new Date(message.created_at);\n      console.log(\"update\");\n      date = new Date(message.created_at).toString();\n    } else {\n      date = \"\";\n    }\n\n    console.log(currentDate); // console.log(new Date(new Date(message.created_at).getFullYear(),new Date(message.created_at).getMonth(),new Date(message.created_at).getDate()) )\n    // console.log(date)\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: timeStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 22\n      }\n    }, date), /*#__PURE__*/React.createElement(ChatTemplate, {\n      message: message,\n      roomId: selected.id,\n      side: side,\n      time: time,\n      cancelSend: cancelSend,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 22\n      }\n    }));\n  }));\n};","map":{"version":3,"names":["Box","Stack","Typography","React","useState","useContext","useEffect","useMemo","AuthContext","ChatTemplate","height","document","documentElement","clientHeight","timeStyle","position","top","left","color","ChatMessages","messages","selected","cancelSend","tempId","date","Date","toString","currentDate","created_at","getFullYear","getMonth","getDate","padding","width","overflow","map","message","index","side","employee_id","baseTime","time","getHours","slice","getMinutes","console","log","id"],"sources":["/usr/src/app/app/src/components/chats/ChatMessages.jsx"],"sourcesContent":["import { Box, Stack, Typography } from \"@mui/material\";\r\nimport React, { useState, useContext, useEffect, useMemo } from \"react\";\r\nimport { AuthContext } from \"../../contexts/auth\";\r\n\r\nimport ChatTemplate from \"./ChatTemplate\"\r\n\r\nconst height =  document.documentElement.clientHeight;\r\nconst timeStyle = {\r\n    position:\"absolute\",\r\n    top:-20, \r\n    left:0,\r\n    color:\"#808080\"\r\n  }\r\n\r\nexport const ChatMessages = ({\r\n    messages, \r\n    selected, \r\n    cancelSend ,\r\n    tempId,\r\n}) => {\r\n    let date = new Date().toString()\r\n    let currentDate = new Date(new Date(messages[0].created_at).getFullYear(),new Date(messages[0].created_at).getMonth()+1,new Date(messages[0].created_at).getDate())\r\n   return (\r\n        <Box  \r\n            sx={{padding:\"150px 2rem 0\",\r\n            height:`${height-100}px`,\r\n            width:\"100%\",\r\n            overflow: \"scroll\"\r\n            }}\r\n            >\r\n             {messages.map((message, index) => {\r\n\r\n                const side = message.employee_id === tempId ? \"right\" : \"left\";\r\n                const baseTime = new Date(message.created_at)\r\n                const time = `${(\"00\"+baseTime.getHours()).slice(-2)} :${(\"00\" + baseTime.getMinutes()).slice(-2)}`\r\n                if(new Date(new Date(message.created_at).getFullYear(),new Date(message.created_at).getMonth(),new Date(message.created_at).getDate()) > currentDate){\r\n                    currentDate = new Date(message.created_at)\r\n                    console.log(\"update\")\r\n                    date =new Date(message.created_at).toString()\r\n                }else{\r\n                    date = \"\"\r\n                }\r\n                \r\n                console.log(currentDate)\r\n                // console.log(new Date(new Date(message.created_at).getFullYear(),new Date(message.created_at).getMonth(),new Date(message.created_at).getDate()) )\r\n                // console.log(date)\r\n                return (\r\n                <div key={index}>\r\n                     <span style={timeStyle}>\r\n                    {date}\r\n                  </span>\r\n                     <ChatTemplate\r\n                        message={message}\r\n                        roomId={selected.id}\r\n                        side={side}\r\n                        time={time}\r\n                        cancelSend={cancelSend}\r\n                    />\r\n                </div>\r\n                )\r\n                })}\r\n\r\n        </Box>)\r\n\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}