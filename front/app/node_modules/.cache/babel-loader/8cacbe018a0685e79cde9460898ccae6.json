{"ast":null,"code":"import _slicedToArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/components/signin/Login.jsx\";\n\nimport { Button, Grid, TextField, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { AuthContext } from \"../../contexts/auth\";\nimport { Link } from 'react-router-dom';\nimport io from \"socket.io-client\";\nimport CircularProgress from '@mui/material/CircularProgress';\nexport var Login = function Login() {\n  var socket = io(\"http://localhost:5500\");\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors;\n\n  var auth = useContext(AuthContext);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    socket.emit(\"join\", \"top\");\n    socket.emit(\"RECIEVE_MESSAGE\", function (data) {\n      return console.log(data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: function onClick() {\n      return socket.emit(\"SEND_MESSAGE\", {\n        room_id: \"top\"\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, \"button\"), auth.state.loggedIn ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    sx: {\n      p: 4,\n      maxWidth: 500,\n      margin: \"auto\"\n    },\n    container: true,\n    direction: \"column\",\n    alignItems: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    sx: {\n      my: 4\n    },\n    component: \"div\",\n    variant: \"h5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: auth.state.chief ? \"/Dashboard\" : \"/employeeDashboard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 19\n    }\n  }, auth.state.name, \"\\u3067\\u30ED\\u30B0\\u30A4\\u30F3\\u4E2D\\u3067\\u3059\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"error\",\n    variant: \"contained\",\n    onClick: auth.logout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\")))) : /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(auth.login),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    sx: {\n      p: 4,\n      maxWidth: 500,\n      margin: \"auto\"\n    },\n    container: true,\n    direction: \"column\",\n    alignItems: \"center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, Object.assign({\n    margin: \"normal\",\n    label: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\",\n    defaultValue: \"sample@user0.com\"\n  }, register('email', {\n    required: \"※空白にはできません\"\n  }), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, errors.email && errors.email.message), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, Object.assign({\n    margin: \"normal\",\n    label: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",\n    defaultValue: \"password\"\n  }, register(\"password\", {\n    required: \"※空白にはできません\"\n  }), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, errors.password && errors.password.message), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"success\",\n    variant: \"contained\",\n    size: \"large\",\n    fullWidth: true,\n    onClick: function onClick() {\n      return setLoading(true);\n    },\n    endIcon: loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n      size: \"1.5rem\",\n      color: \"inherit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }) : \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"\\u30ED\\u30B0\\u30A4\\u30F3\")))));\n};","map":{"version":3,"names":["Button","Grid","TextField","Typography","Box","React","useContext","useEffect","useState","useForm","AuthContext","Link","io","CircularProgress","Login","socket","register","handleSubmit","errors","formState","auth","loading","setLoading","emit","data","console","log","room_id","state","loggedIn","p","maxWidth","margin","my","chief","name","logout","login","required","color","email","message","password"],"sources":["/usr/src/app/app/src/components/signin/Login.jsx"],"sourcesContent":["import { Button, Grid, TextField, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { AuthContext } from \"../../contexts/auth\";\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport  io from \"socket.io-client\"\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nexport const Login = () => {\r\n  \r\nconst socket = io(\"http://localhost:5500\")\r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n  const auth = useContext(AuthContext);\r\n  \r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n        \r\n    socket.emit(\"join\",\"top\")\r\n\r\n    socket.emit(\"RECIEVE_MESSAGE\",(data)=>console.log(data))\r\n\r\n\r\n},[]);\r\n\r\n\r\n  return (\r\n  \r\n      <>\r\n              <button type=\"button\" onClick={()=>socket.emit(\"SEND_MESSAGE\",{room_id:\"top\"})}>button</button>\r\n      {auth.state.loggedIn ? (\r\n          <>\r\n          <Grid sx={{p:4,maxWidth: 500,margin:\"auto\"}} container direction=\"column\" alignItems=\"center\">\r\n          <Typography sx={{my:4}}component=\"div\" variant=\"h5\">\r\n                <Link to ={auth.state.chief ? \"/Dashboard\": \"/employeeDashboard\"}>\r\n                  <Typography variant=\"h6\">\r\n                    {auth.state.name}でログイン中です\r\n                  </Typography>\r\n                </Link>\r\n              </Typography>\r\n            <Grid item>\r\n            <Button \r\n              color=\"error\" \r\n              variant=\"contained\" \r\n              onClick={auth.logout}\r\n            >\r\n              ログアウト\r\n            </Button>\r\n            </Grid>\r\n          </Grid>\r\n          </>\r\n        ) : (\r\n          <form  onSubmit={handleSubmit(auth.login)}>  \r\n          <Grid sx={{p:4,maxWidth: 500,margin:\"auto\"}} container direction=\"column\" alignItems=\"center\">\r\n          <Grid item>\r\n          <TextField  \r\n            \r\n            margin=\"normal\" \r\n            label=\"メールアドレス\"\r\n            defaultValue=\"sample@user0.com\"\r\n            {...register('email',{ required: \"※空白にはできません\"})} />\r\n          </Grid>\r\n          <span style={{color: \"red\"}}>{errors.email && errors.email.message}</span>\r\n          <Grid item>\r\n            <TextField\r\n            margin=\"normal\"\r\n                  label=\"パスワード\"\r\n                  defaultValue=\"password\"\r\n                  {...register(\"password\", {required:  \"※空白にはできません\"})}\r\n                  />\r\n          </Grid>\r\n          <span style={{color: \"red\"}}>{errors.password && errors.password.message}</span>\r\n          <Grid item>\r\n          <Button \r\n            type=\"submit\" \r\n            color=\"success\" \r\n            variant=\"contained\" \r\n            size=\"large\"\r\n            fullWidth\r\n            onClick={()=> setLoading(true)}\r\n            endIcon={loading ?\r\n              <CircularProgress size=\"1.5rem\" color=\"inherit\"/>\r\n              :\r\n              \"\"\r\n            }>\r\n                ログイン   \r\n          </Button>\r\n      \r\n          </Grid>\r\n      \r\n            </Grid>\r\n      \r\n          </form>\r\n        )}    \r\n         \r\n        \r\n        </>\r\n\r\n    )};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}