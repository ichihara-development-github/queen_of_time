{"ast":null,"code":"import _objectSpread from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/containers/employeeSide/Profile.jsx\";\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Paper } from \"@mui/material\";\nimport { fetchProfile, sendProfile } from \"../../apis/config\";\nimport { STYLE_2 } from \"../../components/const\";\nimport { NewEmployeeForm } from \"../../components/employees/NewEmployeeForm\";\nimport { SnackbarContext } from \"../../contexts/snackBar\";\nimport { imageUploder } from \"../../lib/imageUploader\";\nimport { v4 as uuid } from \"uuid\";\nexport var Profile = function Profile() {\n  console.log(process.env.REACT_APP_S3_BUCKET);\n  console.log(process.env.REACT_APP_S3_BUCKET_REGION);\n  console.log(process.env.REACT_APP_HELLO_WORLD);\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  var sb = useContext(SnackbarContext);\n\n  var sendParams = function sendParams(params) {\n    try {\n      sendProfile(params).then(function (res) {\n        if (res.status !== 200) {\n          return;\n        }\n\n        sb.setSnackBar({\n          open: true,\n          variant: \"success\",\n          content: \"プロフィールを編集しました。\"\n        });\n\n        if (params.image) {\n          var imageUrl = uuid() || params.imageUrl;\n          imageUploder(params.image[0], imageUrl, sb);\n        }\n      });\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  useEffect(function () {\n    fetchProfile().then(function (res) {\n      setProfile(res.data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Paper, {\n    sx: _objectSpread({\n      margin: \"0 auto\",\n      maxWidth: 500,\n      p: 1\n    }, STYLE_2),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, profile && /*#__PURE__*/React.createElement(NewEmployeeForm, {\n    sendParams: sendParams,\n    requestStatus: \"OK\",\n    profile: profile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 23\n    }\n  }));\n};","map":{"version":3,"names":["React","useState","useEffect","useContext","Paper","fetchProfile","sendProfile","STYLE_2","NewEmployeeForm","SnackbarContext","imageUploder","v4","uuid","Profile","console","log","process","env","REACT_APP_S3_BUCKET","REACT_APP_S3_BUCKET_REGION","REACT_APP_HELLO_WORLD","profile","setProfile","sb","sendParams","params","then","res","status","setSnackBar","open","variant","content","image","imageUrl","e","message","data","margin","maxWidth","p"],"sources":["/usr/src/app/app/src/containers/employeeSide/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Paper } from \"@mui/material\"\r\nimport { fetchProfile, sendProfile } from \"../../apis/config\"\r\nimport { STYLE_2 } from \"../../components/const\"\r\nimport { NewEmployeeForm } from \"../../components/employees/NewEmployeeForm\"\r\nimport { SnackbarContext } from \"../../contexts/snackBar\";\r\nimport { imageUploder } from \"../../lib/imageUploader\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nexport const Profile = () => {\r\n  console.log(process.env.REACT_APP_S3_BUCKET)\r\n  console.log(process.env.REACT_APP_S3_BUCKET_REGION)\r\nconsole.log(process.env.REACT_APP_HELLO_WORLD)\r\n\r\n    const [profile, setProfile] = useState() \r\n    const sb = useContext(SnackbarContext);\r\n    \r\n    const sendParams = (params)=> {\r\n       \r\n        try {\r\n            sendProfile(params)\r\n            .then(res=> {\r\n              if(res.status !== 200){\r\n                return\r\n              }\r\n              sb.setSnackBar({open: true, variant:\"success\", content: \"プロフィールを編集しました。\"})\r\n              if(params.image){\r\n                const imageUrl = uuid() || params.imageUrl;\r\n                imageUploder(params.image[0], imageUrl, sb)}\r\n              })\r\n          }\r\n          catch(e){console.log(e.message)}\r\n        \r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchProfile()\r\n        .then(res => {\r\n            setProfile(res.data)\r\n        })\r\n       \r\n    },[])\r\n\r\n\r\n    return (\r\n    \r\n      <Paper sx={{margin:\"0 auto\", maxWidth:500, p:1, ...STYLE_2}}>\r\n          \r\n          {profile && <NewEmployeeForm\r\n            sendParams={sendParams}\r\n            requestStatus=\"OK\"\r\n            profile={profile}\r\n          />\r\n          }\r\n         \r\n      \r\n        {/* <form onSubmit={handleSubmit(onSubmit)}>\r\n            <Stack \r\n            sx={{py:2}}\r\n            direction=\"row\" \r\n            alignItems=\"center\"\r\n            spacing={2} \r\n            justifyContent=\"end\"\r\n            >\r\n            <Typography varinat=\"h6\">責任者： employee</Typography>\r\n            <TextField label=\"組織名\" className=\"mui-input\"/>\r\n            </Stack>\r\n        </form> */}\r\n        </Paper>\r\n    )\r\n    \r\n}"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,mBAA1C;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,eAAT,QAAgC,4CAAhC;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,YAAT,QAA6B,yBAA7B;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAC3BC,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,mBAAxB;EACAJ,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYE,0BAAxB;EACFL,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYG,qBAAxB;;EAH6B,gBAKKnB,QAAQ,EALb;EAAA;EAAA,IAKlBoB,OALkB;EAAA,IAKTC,UALS;;EAMzB,IAAMC,EAAE,GAAGpB,UAAU,CAACM,eAAD,CAArB;;EAEA,IAAMe,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD,EAAW;IAE1B,IAAI;MACAnB,WAAW,CAACmB,MAAD,CAAX,CACCC,IADD,CACM,UAAAC,GAAG,EAAG;QACV,IAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAsB;UACpB;QACD;;QACDL,EAAE,CAACM,WAAH,CAAe;UAACC,IAAI,EAAE,IAAP;UAAaC,OAAO,EAAC,SAArB;UAAgCC,OAAO,EAAE;QAAzC,CAAf;;QACA,IAAGP,MAAM,CAACQ,KAAV,EAAgB;UACd,IAAMC,QAAQ,GAAGtB,IAAI,MAAMa,MAAM,CAACS,QAAlC;UACAxB,YAAY,CAACe,MAAM,CAACQ,KAAP,CAAa,CAAb,CAAD,EAAkBC,QAAlB,EAA4BX,EAA5B,CAAZ;QAA4C;MAC7C,CATH;IAUD,CAXH,CAYE,OAAMY,CAAN,EAAQ;MAACrB,OAAO,CAACC,GAAR,CAAYoB,CAAC,CAACC,OAAd;IAAuB;EAGrC,CAjBD;;EAmBAlC,SAAS,CAAC,YAAM;IACZG,YAAY,GACXqB,IADD,CACM,UAAAC,GAAG,EAAI;MACTL,UAAU,CAACK,GAAG,CAACU,IAAL,CAAV;IACH,CAHD;EAKH,CANQ,EAMP,EANO,CAAT;EASA,oBAEE,oBAAC,KAAD;IAAO,EAAE;MAAGC,MAAM,EAAC,QAAV;MAAoBC,QAAQ,EAAC,GAA7B;MAAkCC,CAAC,EAAC;IAApC,GAA0CjC,OAA1C,CAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEKc,OAAO,iBAAI,oBAAC,eAAD;IACV,UAAU,EAAEG,UADF;IAEV,aAAa,EAAC,IAFJ;IAGV,OAAO,EAAEH,OAHC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFhB,CAFF;AA2BH,CA/DM"},"metadata":{},"sourceType":"module"}