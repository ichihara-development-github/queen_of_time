{"ast":null,"code":"import _toConsumableArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/usr/src/app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/usr/src/app/app/src/components/shifts/NewShiftModal.jsx\";\n\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\nimport { Box } from \"@mui/system\";\nimport { React, useState, useContext } from 'react';\nimport { IconButton, Modal, Tooltip } from '@mui/material';\nimport { NewShiftForm } from './NewShiftForm';\nimport { SnackbarContext } from '../../contexts/snackBar';\nimport { assignShift } from '../../apis/shifts';\nvar style = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  height: \"100%\",\n  width: 500,\n  maxWidth: \"95%\",\n  overflow: \"scroll\",\n  bgcolor: 'white',\n  border: '2px solid #000',\n  boxShadow: 24,\n  p: 2\n};\nexport var NewShiftModal = function NewShiftModal(_ref) {\n  var state = _ref.state,\n      dispatch = _ref.dispatch,\n      date = _ref.date,\n      loading = _ref.loading,\n      setLoading = _ref.setLoading;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var sb = useContext(SnackbarContext);\n\n  var sendShiftParams = function sendShiftParams(params) {\n    setLoading(true);\n    assignShift(params).then(function (res) {\n      if (res.status !== 201) {\n        sb.setSnackBar({\n          open: true,\n          color: \"error\",\n          content: \"エラーが発生しました。\"\n        });\n        setOpen(false);\n        return;\n      }\n\n      dispatch([].concat(_toConsumableArray(state), [res.data.shift]));\n      sb.setSnackBar({\n        open: true,\n        color: \"success\",\n        content: \"シフトを作成しました。\"\n      });\n      setOpen(false);\n      setLoading(false);\n    });\n  };\n\n  var content = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NewShiftForm, {\n    sendShiftParams: sendShiftParams,\n    date: date,\n    loading: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"\\u30B7\\u30D5\\u30C8\\u8FFD\\u52A0\",\n    arrow: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: function onClick() {\n      return setOpen(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddBoxOutlinedIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: function onClose() {\n      return setOpen(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: style,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, content)));\n};","map":{"version":3,"names":["AddBoxOutlinedIcon","Box","React","useState","useContext","IconButton","Modal","Tooltip","NewShiftForm","SnackbarContext","assignShift","style","position","top","left","transform","height","width","maxWidth","overflow","bgcolor","border","boxShadow","p","NewShiftModal","state","dispatch","date","loading","setLoading","open","setOpen","sb","sendShiftParams","params","then","res","status","setSnackBar","color","content","data","shift"],"sources":["/usr/src/app/app/src/components/shifts/NewShiftModal.jsx"],"sourcesContent":["\r\nimport AddBoxOutlinedIcon from '@mui/icons-material/AddBoxOutlined';\r\n\r\nimport { Box } from \"@mui/system\";\r\nimport { React, useState, useContext } from 'react';\r\nimport { IconButton, Modal, Tooltip } from '@mui/material';\r\nimport { NewShiftForm } from './NewShiftForm';\r\nimport { SnackbarContext } from '../../contexts/snackBar';\r\nimport { assignShift } from '../../apis/shifts';\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    height: \"100%\",\r\n    width: 500,\r\n    maxWidth: \"95%\",\r\n    overflow: \"scroll\",\r\n    bgcolor: 'white',\r\n    border: '2px solid #000',\r\n    boxShadow: 24,\r\n    p: 2,\r\n  };\r\n  \r\n\r\nexport const NewShiftModal = ({\r\n    state,\r\n    dispatch,\r\n    date,\r\n    loading,\r\n    setLoading\r\n}) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const sb = useContext(SnackbarContext);\r\n\r\n    const sendShiftParams = (params) => {\r\n        setLoading(true)\r\n        assignShift(params)\r\n        .then(res => {\r\n            if(res.status !== 201){\r\n                sb.setSnackBar({open: true, color:\"error\",content:\"エラーが発生しました。\"})\r\n                setOpen(false)\r\n                return\r\n            }\r\n            dispatch([...state,res.data.shift])\r\n            sb.setSnackBar({open: true, color:\"success\",content:\"シフトを作成しました。\"})\r\n            setOpen(false)\r\n            setLoading(false)\r\n            \r\n        })\r\n    }\r\n\r\n\r\n\r\n    const content = (\r\n        <>\r\n        <NewShiftForm\r\n            sendShiftParams={sendShiftParams}\r\n            date={date}\r\n            loading={loading}\r\n        />\r\n       \r\n        </>\r\n    )\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n          <Tooltip title=\"シフト追加\" arrow>\r\n            <IconButton onClick={()=>setOpen(true)}>\r\n                <AddBoxOutlinedIcon/>\r\n            </IconButton>\r\n          </Tooltip>\r\n        <Modal\r\n            open={open} \r\n            onClose={()=>setOpen(false)} \r\n            >\r\n                <Box sx={style} >\r\n                    {content}\r\n                </Box>\r\n\r\n\r\n            </Modal>\r\n        </>\r\n    \r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}